# PRISM
Prism is a media recomendation system that takes the user favorite genres, movies and series and turn them into assertive recomendations.

# How to run project
In order to compile and run the project on your machine, you will need to run a list of commands to setup Flutter alongside Firebase.

First of all make sure you have Flutter v3.35.2+ to avoid any problem related to packages.

### Install packages
The very first step to get the project running is to install the packages, to do that, open the terminal and type:

``` bash
flutter pub get
```

This will install all the packages inside `pubspec.yaml`.

### Install Firebase
For this step, you may want to take a look at [Firebase Documentation](https://firebase.google.com/docs/cli#setup_update_cli), as it can change over time and for each OS.

The most used (and recomended) way is to use `npm install -g firebase-tools`. Of course you will need to have NPM installed.

### Setup Firebase
With Firebase installed, now you can login with the Firebase CLI:

``` bash
firebase login
```

Then, you will need to install the `flutterfire_cli` package with the following command:

``` bash
dart pub global activate flutterfire_cli
```

With `flutterfire` installed, run:

``` bash
flutterfire configure
```

Make sure that android, ios and web are checked an then click enter.

This command automagically creates Firebased needed configurations, this includes the `firebase_options.dart`, wich is a required file for the project to run.

The very last step for this basic configuration is to create a `.env` file, just copy the `.env.example` and then, for the `SERVER_CLIENT_ID` variable, go to `android/app/google-services.json` file inside the project, this file is autogenerated by `flutterfire configure`, the value you need is inside the `oauth_client` array and it's named `client_id`, get the value from the `client_id` where the `client_type` is 3.

And that's it! Now you can run the project without any major problems.

### Setup Firebase emulator (Recommended)
You probaly don't want to use the real Firebase client for debug (for god sake, this is not a good idea). So you may want to setup the Firebase emulator.

To do that, first you need to have Java installed and run:

``` bash
firebase init
```

And select Firebase, Functions and Storage.

After that, run:

``` bash
firebase init emulators
```

And make sure to select Authentication, Functions, Firestore and Storage emulators.

After that, finally run:

``` bash
firebase emulators:start
```

And then, you can go to your `main.dart` and put the following line after the `Firebase.initializeApp` (you may also need to put this import at the top: `package:firebase_auth/firebase_auth.dart`):
``` dart
await FirebaseAuth.instance.useAuthEmulator('localhost', 9099);
```

This setup the app to use the emulator auth instead of the Firebase real auth.
